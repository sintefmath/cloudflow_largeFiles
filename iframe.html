<!DOCTYPE html>
<html>
    <head>
        <title>CloudFlow Large File Uploader - iframe</title>
        <style>
            html, body  {
                height: 100%;
                overflow: hidden
            }
            html, body, iframe {
                margin: 0;
                padding: 0;
            }
        </style>
        <script type='text/javascript'>
            // Set the variables so that the HTML page in the iframe will have access to them through parent
            var sessionToken = "abc";
            var serviceID = "123";
            var gssPath = "csuc://hjelmervik/";
            var soapWFM = "https://WFM-soap.com?wsdlFTW";
            var hasCloudflowVariables = true;
            console.log("Sat variables in parent");
            
            
            function getURLparam( param, url ) {
                if (!url) url = location.href;
                param = param.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
                var regexS = "[\\?&]"+param+"=([^&#]*)";
                var regex = new RegExp( regexS );
                var results = regex.exec( url );
                return results == null ? "" : results[1];
            }
            
            var url_token = getURLparam("token", document.location.search);
            if (url_token !== "") {
                sessionToken = url_token;
                console.log ("token from url");
            }
            
            var url_path = getURLparam("gssPath", document.location.search);
            if (url_path !== "") {
                gssPath = url_path;
                console.log("path from url");
            }

            
        </script>
    </head>
    <body>
        <iframe src='cloudflow.html' width='100%' height='100%' seamless='1' style='height: 100%; width: 100%;border-style: none; overflow: hidden;'></iframe>
    </body>
</html>

